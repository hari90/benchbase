type: YUGABYTE
driver: com.yugabyte.Driver
url: jdbc:yugabytedb://{{endpoint}}:5433/yugabyte?sslmode=require&ApplicationName=featurebench&reWriteBatchedInserts=true
username: {{username}}
password: {{password}}

batchsize: 128
isolation: TRANSACTION_REPEATABLE_READ
loaderthreads: 4
terminals: 60
collect_pg_stat_statements: true
use_dist_in_explain : true
works:
    work:
        time_secs: 600
        active_terminals: 60
        rate: unlimited
        warmup: 180
microbenchmark:
    class: com.oltpbenchmark.benchmarks.featurebench.customworkload.YBDefaultMicroBenchmark
    properties:
        setAutoCommit: true
        create:
            - drop table if exists table_4_cols_1kb;
            - CREATE TABLE table_4_cols_1kb (id SERIAL, k INTEGER DEFAULT '0' NOT NULL, c CHAR(120) DEFAULT '' NOT NULL, pad CHAR(60) DEFAULT '' NOT NULL, col1 TEXT, col2 TEXT, col3 TEXT, col4 TEXT, PRIMARY KEY (id));
        loadRules:
            -   table: table_4_cols_1kb
                rows: 10000000
                columns:
                    -   name: k
                        util: RandomNumber
                        params: [ 1, 1000000 ]
                    -   name: c
                        util: RandomAString
                        params: [ 120, 120 ]
                    -   name: pad
                        util: RandomAString
                        params: [ 60, 60 ]
                    -   name: col
                        count: 4
                        util: RandomAString
                        params: [ 100, 100 ]
        executeRules:
            -   workload: 1kb_insert
                run:
                    -   name: insert_rowsize_1kb
                        weight: 100
                        queries:
                            -   query: insert into table_4_cols_1kb (k, c, pad, col1, col2, col3, col4) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
                                count: 1
                                bindings:
                                    -   util: RandomNumber
                                        params: [ 1, 1000000 ]
                                    -   util: RandomAString
                                        params: [ 120, 120 ]
                                    -   util: RandomAString
                                        params: [ 60, 60 ]
                                    -   util: RandomAString
                                        count: 4
                                        params: [ 100, 100 ]